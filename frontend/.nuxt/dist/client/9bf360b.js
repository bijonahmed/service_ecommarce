(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{345:function(t,e,r){"use strict";r.r(e);var o=r(7),n=(r(34),r(146)),l=r.n(n),c={data:function(){return{loading:!1,login:{email:"",password:""},notifmsg:"",errors:{}}},mounted:function(){},computed:{loggedIn:function(){return this.$auth.loggedIn}},methods:{closePopup:function(){l()(".login_popup").fadeOut()},gotoCheckOut:function(){this.$router.push("/checkout")},customerLogin:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r,o,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l()(".show_error").html(""),r={email:t.login.email,password:t.login.password},e.next=5,t.$axios.post("/auth/login",r);case 5:return o=e.sent,data=o.data,e.next=9,t.$auth.setUserToken(data.access_token);case 9:if(3!==data.role_id){e.next=13;break}return e.abrupt("return",t.$router.push("/seller/seller-dashboard"));case 13:if(2!==data.role_id){e.next=17;break}return e.abrupt("return",t.$router.push("/user/user-dashborad"));case 17:console.warn("Unsupported role_id:",data.role_id);case 18:t.closePopup(),Swal.fire({position:"top-end",icon:"success",title:"Has been successfully login...",showConfirmButton:!1,timer:1500}),e.next=27;break;case 22:e.prev=22,e.t0=e.catch(0),console.log(e.t0),console.error("Login error:",e.t0),e.t0.response&&401===e.t0.response.status?l()(".show_error").html("Invalid credentials. Please try again."):l()(".show_error").html("An error occurred. Please try again later.");case 27:case"end":return e.stop()}}),e,null,[[0,22]])})))()}}},d=r(33),component=Object(d.a)(c,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"login_popup"},[e("div",{staticClass:"popup_box_modal"},[e("div",[e("div",{staticClass:"row",on:{click:t.closePopup}},[t._m(0)])]),t._v(" "),t._m(1),t._v(" "),e("div",[e("center",[e("span",{staticClass:"show_error text-danger"})]),t._v(" "),e("form",{staticClass:"forms-sample",attrs:{id:"formrest",enctype:"multipart/form-data"},on:{submit:function(e){return e.preventDefault(),t.customerLogin()}}},[e("div",{staticClass:"input_group"},[t.errors.email?e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.email[0]))]):t._e(),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.login.email,expression:"login.email"}],attrs:{type:"text",placeholder:"Email"},domProps:{value:t.login.email},on:{input:function(e){e.target.composing||t.$set(t.login,"email",e.target.value)}}}),t._v(" "),e("i",{staticClass:"fa-solid fa-user"})]),t._v(" "),e("div",{staticClass:"input_group"},[t.errors.password?e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.password[0]))]):t._e(),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.login.password,expression:"login.password"}],attrs:{type:"password",placeholder:"Password"},domProps:{value:t.login.password},on:{input:function(e){e.target.composing||t.$set(t.login,"password",e.target.value)}}}),t._v(" "),e("i",{staticClass:"toggle-password fa-solid fa-eye"})]),t._v(" "),e("div",{staticClass:"d-flex justify-content-between align-items-center"},[t._m(2),t._v(" "),e("nuxt-link",{attrs:{to:"/forget-password"}},[t._v("Forget Password")])],1),t._v(" "),t._m(3),t._v(" "),e("div",{staticClass:"d-flex"},[e("p",{staticStyle:{"font-size":"12px !important"}},[t._v("Don't have Account? "),e("nuxt-link",{staticClass:"btn_signup",attrs:{to:"/login",type:"button"}},[t._v("SignUp")])],1)])])],1)])])])}),[function(){var t=this._self._c;return t("div",{staticClass:"col-6 ms-auto text-end"},[t("button",{staticClass:"btn_edit close_login"},[t("i",{staticClass:"fa-solid fa-x"})])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"popup_title"},[e("h1",[t._v("Login")]),t._v(" "),e("p",[t._v("Login and get access to all the features")])])},function(){var t=this._self._c;return t("div",{staticClass:"d-flex align-items-center d-none"},[t("input",{attrs:{type:"checkbox",id:"remeber"}}),t("label",{attrs:{for:"remeber"}},[this._v("Remember me")])])},function(){var t=this._self._c;return t("div",[t("button",{staticClass:"btn_logins",attrs:{type:"submit"}},[this._v("Login")])])}],!1,null,null,null);e.default=component.exports}}]);