(window.webpackJsonp=window.webpackJsonp||[]).push([[32,38],{317:function(t,e,r){"use strict";r.r(e);var o=r(7),n=(r(44),r(15),r(35),r(34),r(69),{components:{LoginPopup:r(345).default},data:function(){return{login:{email:"",password:""},cart:[],itemCount:0,limit:12,id:"",categories:[],errors:[]}},mounted:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.$eventBus.$on("cartItemCountUpdated",t.handleCartItemCountUpdated),t.loadCart(),e.next=4,t.fetchData();case 4:case"end":return e.stop()}}),e)})))()},computed:{loggedIn:function(){return this.$auth.loggedIn},userRole:function(){return this.$auth.loggedIn?this.$auth.user.role_id:null}},methods:{customerLogin:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r,o,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,$(".show_error").html(""),r={email:t.login.email,password:t.login.password},e.next=5,t.$axios.post("/auth/login",r);case 5:return o=e.sent,data=o.data,e.next=9,t.$auth.setUserToken(data.access_token);case 9:if(3!==data.role_id){e.next=13;break}return e.abrupt("return",t.$router.push("/seller/seller-dashboard"));case 13:if(2!==data.role_id){e.next=17;break}return e.abrupt("return",t.$router.push("/user/user-profile"));case 17:console.warn("Unsupported role_id:",data.role_id);case 18:Swal.fire({position:"top-end",icon:"success",title:"Has been successfully login...",showConfirmButton:!1,timer:1500}),e.next=26;break;case 21:e.prev=21,e.t0=e.catch(0),console.log(e.t0),console.error("Login error:",e.t0),e.t0.response&&401===e.t0.response.status?$(".show_error").html("Invalid credentials. Please try again."):$(".show_error").html("An error occurred. Please try again later.");case 26:case"end":return e.stop()}}),e,null,[[0,21]])})))()},getProfileLink:function(){return 3===this.userRole?"/seller/seller-profile":"/user/user-profile"},openLoginModal:function(){$(".login_popup").fadeIn()},closePopup:function(){$(".login_popup").fadeOut()},loadCart:function(){var t=localStorage.getItem("cart");t&&(this.cart=JSON.parse(t));var e=0;this.cart.forEach((function(t){e+=parseInt(t.quantity)})),this.itemCount=e},handleCartItemCountUpdated:function(t){console.log("Received  DesktopViewOptions Com.:",t),this.itemCount=t},fetchData:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.get("/unauthenticate/getCategoryList");case 2:r=e.sent,t.categories=r.data;case 4:case"end":return e.stop()}}),e)})))()},getUser:function(){var t=this.$store.state.auth.user;console.log("Users data: "+t)},logout:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$auth.logout();case 2:Swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(t){t.onmouseenter=Swal.stopTimer,t.onmouseleave=Swal.resumeTimer}}).fire({icon:"success",title:"Successfully Logout!"});case 4:case"end":return e.stop()}}),e)})))()}}}),l=(r(356),r(33)),component=Object(l.a)(n,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-lg-3 col-md-2 col-2 desktop_view"},[e("div",{staticClass:"menus"},[e("div",{staticClass:"dropdown"},[t._m(0),t._v(" "),e("ul",{staticClass:"dropdown-menu"},[t.loggedIn?e("span",[e("button",{staticClass:"drop_btn",attrs:{type:"button"},on:{click:t.logout}},[t._v("Sign Out")])]):e("span",[e("button",{staticClass:"drop_btn",attrs:{type:"button"},on:{click:t.openLoginModal}},[t._v("Sign In")]),t._v(" "),e("nuxt-link",{staticClass:"drop_btn text-white",attrs:{to:"/login",type:"button"}},[t._v("Signup")])],1),t._v(" "),t.loggedIn?e("li",[e("Nuxt-link",{staticClass:"dropdown-item",attrs:{to:t.getProfileLink()}},[t._v("MY Account")])],1):t._e(),t._v(" "),t.loggedIn&&3===t.userRole?e("li",[e("Nuxt-link",{staticClass:"dropdown-item",attrs:{to:"/seller/seller-orders"}},[t._v("Orders")])],1):t._e(),t._v(" "),t.loggedIn&&2===t.userRole?e("li",[e("Nuxt-link",{staticClass:"dropdown-item",attrs:{to:"/user/user-orders"}},[t._v("Orders")])],1):t._e(),t._v(" "),t.loggedIn&&2===t.userRole?e("li",[e("Nuxt-link",{staticClass:"dropdown-item",attrs:{to:"/user/user-whichlist"}},[t._v("Wishlist")])],1):t._e(),t._v(" "),t.loggedIn&&3===t.userRole?e("li",[e("Nuxt-link",{staticClass:"dropdown-item",attrs:{to:"/seller/seller-wishlist"}},[t._v("Wishlist")])],1):t._e()])]),t._v(" "),t._m(1),t._v(" "),e("Nuxt-link",{staticClass:"cart_count",attrs:{to:"/cart"}},[e("i",{staticClass:"fas fa-cart-shopping"}),e("span",{staticStyle:{top:"-16px"}},[t._v(t._s(t.itemCount))]),t._v("Cart")])],1),t._v(" "),e("div",{staticClass:"login_popup"},[e("div",{staticClass:"popup_box_modal"},[e("div",[e("div",{staticClass:"row",on:{click:t.closePopup}},[t._m(2)])]),t._v(" "),t._m(3),t._v(" "),e("div",[e("div",[e("center",[e("span",{staticClass:"show_error text-danger"})]),t._v(" "),e("form",{staticClass:"forms-sample d-block",attrs:{id:"formrest",enctype:"multipart/form-data"},on:{submit:function(e){return e.preventDefault(),t.customerLogin()}}},[e("div",{staticClass:"input_group"},[t.errors.email?e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.email[0]))]):t._e(),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.login.email,expression:"login.email"}],attrs:{type:"text",placeholder:"Email"},domProps:{value:t.login.email},on:{input:function(e){e.target.composing||t.$set(t.login,"email",e.target.value)}}}),t._v(" "),e("i",{staticClass:"fa-solid fa-user"})]),t._v(" "),e("div",{staticClass:"input_group mb-1"},[t.errors.password?e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.password[0]))]):t._e(),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.login.password,expression:"login.password"}],attrs:{type:"password",placeholder:"Password"},domProps:{value:t.login.password},on:{input:function(e){e.target.composing||t.$set(t.login,"password",e.target.value)}}}),t._v(" "),e("i",{staticClass:"toggle-password fa-solid fa-eye"})]),t._v(" "),e("div",{staticClass:"d-flex justify-content-end align-items-center mb-2"},[t._m(4),t._v(" "),e("nuxt-link",{attrs:{to:"/forget-password"}},[t._v("Forget Password")])],1),t._v(" "),t._m(5),t._v(" "),e("div",{staticClass:"d-flex"},[e("p",{staticClass:"text-center w-100 mt-2",staticStyle:{"font-size":"12px !important"}},[t._v("Don't have Account? "),e("nuxt-link",{staticClass:"btn_signup",attrs:{to:"/login",type:"button"}},[t._v("SignUp")])],1)])])],1)])])])])}),[function(){var t=this._self._c;return t("button",{staticClass:"btn dropdown-toggle btn_account b_link",attrs:{type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}},[t("i",{staticClass:"fas fa-user"}),this._v(" Account\r\n            ")])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn dropdown-toggle",attrs:{type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}},[e("i",{staticClass:"fas fa-circle-question"}),t._v(" Help\r\n            ")]),t._v(" "),e("ul",{staticClass:"dropdown-menu"},[e("li",[e("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[t._v("Help Center ")])]),t._v(" "),e("li",[e("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[t._v("Place An Order")])]),t._v(" "),e("li",[e("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[t._v("Payment Option ")])]),t._v(" "),e("li",[e("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[t._v("Truck an order ")])]),t._v(" "),e("li",[e("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[t._v("Cancel an order ")])]),t._v(" "),e("li",[e("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[t._v("Return & Refund ")])]),t._v(" "),e("button",{staticClass:"drop_btn",attrs:{type:"button"}},[t._v("live Chart ")])])])},function(){var t=this._self._c;return t("div",{staticClass:"col-6 ms-auto text-end"},[t("button",{staticClass:"btn_edit close_login"},[t("i",{staticClass:"fa-solid fa-x"})])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"popup_title"},[e("h1",[t._v("Login")]),t._v(" "),e("p",[t._v("Login and get access to all the features")])])},function(){var t=this._self._c;return t("div",{staticClass:"d-flex align-items-center d-none"},[t("input",{attrs:{type:"checkbox",id:"remeber"}}),t("label",{attrs:{for:"remeber"}},[this._v("Remember me")])])},function(){var t=this._self._c;return t("div",[t("button",{staticClass:"btn_logins",attrs:{type:"submit"}},[this._v("Login")])])}],!1,null,null,null);e.default=component.exports},344:function(t,e,r){var content=r(357);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(120).default)("29d8b919",content,!0,{sourceMap:!1})},345:function(t,e,r){"use strict";r.r(e);var o=r(7),n=(r(34),r(146)),l=r.n(n),c={data:function(){return{loading:!1,login:{email:"",password:""},notifmsg:"",errors:{}}},mounted:function(){},computed:{loggedIn:function(){return this.$auth.loggedIn}},methods:{closePopup:function(){l()(".login_popup").fadeOut()},gotoCheckOut:function(){this.$router.push("/checkout")},customerLogin:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r,o,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l()(".show_error").html(""),r={email:t.login.email,password:t.login.password},e.next=5,t.$axios.post("/auth/login",r);case 5:return o=e.sent,data=o.data,e.next=9,t.$auth.setUserToken(data.access_token);case 9:if(3!==data.role_id){e.next=13;break}return e.abrupt("return",t.$router.push("/seller/seller-dashboard"));case 13:if(2!==data.role_id){e.next=17;break}return e.abrupt("return",t.$router.push("/user/user-dashborad"));case 17:console.warn("Unsupported role_id:",data.role_id);case 18:t.closePopup(),Swal.fire({position:"top-end",icon:"success",title:"Has been successfully login...",showConfirmButton:!1,timer:1500}),e.next=27;break;case 22:e.prev=22,e.t0=e.catch(0),console.log(e.t0),console.error("Login error:",e.t0),e.t0.response&&401===e.t0.response.status?l()(".show_error").html("Invalid credentials. Please try again."):l()(".show_error").html("An error occurred. Please try again later.");case 27:case"end":return e.stop()}}),e,null,[[0,22]])})))()}}},d=r(33),component=Object(d.a)(c,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"login_popup"},[e("div",{staticClass:"popup_box_modal"},[e("div",[e("div",{staticClass:"row",on:{click:t.closePopup}},[t._m(0)])]),t._v(" "),t._m(1),t._v(" "),e("div",[e("center",[e("span",{staticClass:"show_error text-danger"})]),t._v(" "),e("form",{staticClass:"forms-sample",attrs:{id:"formrest",enctype:"multipart/form-data"},on:{submit:function(e){return e.preventDefault(),t.customerLogin()}}},[e("div",{staticClass:"input_group"},[t.errors.email?e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.email[0]))]):t._e(),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.login.email,expression:"login.email"}],attrs:{type:"text",placeholder:"Email"},domProps:{value:t.login.email},on:{input:function(e){e.target.composing||t.$set(t.login,"email",e.target.value)}}}),t._v(" "),e("i",{staticClass:"fa-solid fa-user"})]),t._v(" "),e("div",{staticClass:"input_group"},[t.errors.password?e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.password[0]))]):t._e(),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.login.password,expression:"login.password"}],attrs:{type:"password",placeholder:"Password"},domProps:{value:t.login.password},on:{input:function(e){e.target.composing||t.$set(t.login,"password",e.target.value)}}}),t._v(" "),e("i",{staticClass:"toggle-password fa-solid fa-eye"})]),t._v(" "),e("div",{staticClass:"d-flex justify-content-between align-items-center"},[t._m(2),t._v(" "),e("nuxt-link",{attrs:{to:"/forget-password"}},[t._v("Forget Password")])],1),t._v(" "),t._m(3),t._v(" "),e("div",{staticClass:"d-flex"},[e("p",{staticStyle:{"font-size":"12px !important"}},[t._v("Don't have Account? "),e("nuxt-link",{staticClass:"btn_signup",attrs:{to:"/login",type:"button"}},[t._v("SignUp")])],1)])])],1)])])])}),[function(){var t=this._self._c;return t("div",{staticClass:"col-6 ms-auto text-end"},[t("button",{staticClass:"btn_edit close_login"},[t("i",{staticClass:"fa-solid fa-x"})])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"popup_title"},[e("h1",[t._v("Login")]),t._v(" "),e("p",[t._v("Login and get access to all the features")])])},function(){var t=this._self._c;return t("div",{staticClass:"d-flex align-items-center d-none"},[t("input",{attrs:{type:"checkbox",id:"remeber"}}),t("label",{attrs:{for:"remeber"}},[this._v("Remember me")])])},function(){var t=this._self._c;return t("div",[t("button",{staticClass:"btn_logins",attrs:{type:"submit"}},[this._v("Login")])])}],!1,null,null,null);e.default=component.exports},356:function(t,e,r){"use strict";r(344)},357:function(t,e,r){var o=r(119)((function(i){return i[1]}));o.push([t.i,".input_group i{left:auto!important}",""]),o.locals={},t.exports=o}}]);