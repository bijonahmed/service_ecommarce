(window.webpackJsonp=window.webpackJsonp||[]).push([[76,39],{312:function(e,t,r){var content=r(316);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(120).default)("77554746",content,!0,{sourceMap:!1})},314:function(e,t,r){"use strict";r.r(t);r(315);var n=r(33),component=Object(n.a)({},(function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"links desktop_view"},[t("div",{staticClass:"container"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-3"},[t("div",{staticClass:"web_part"},[t("Nuxt-Link",{attrs:{to:"/sell-on-ecommerce"}},[t("i",{staticClass:"fa-regular fa-star"}),e._v("Sell On Ecommerce")])],1)]),e._v(" "),t("div",{staticClass:"col-9"},[t("div",{staticClass:"payment_part"},[t("nuxt-link",{staticClass:"a_link",class:{active:"/allbrands"===e.$route.path},attrs:{to:"/allbrands"}},[e._v("All Brands")]),e._v(" "),t("nuxt-link",{staticClass:"a_link",class:{active:"/allshop"===e.$route.path},attrs:{to:"/allshop"}},[e._v("All Shops")]),e._v(" "),t("nuxt-link",{staticClass:"a_link",class:{active:"/coupons"===e.$route.path},attrs:{to:"/coupons"}},[e._v("Coupons")]),e._v(" "),t("nuxt-link",{staticClass:"a_link",class:{active:"/required"===e.$route.path},attrs:{to:"/required"}},[e._v("Required")]),e._v(" "),t("nuxt-link",{staticClass:"a_link",class:{active:"/blog"===e.$route.path},attrs:{to:"/blog"}},[e._v("Blog")])],1)])])])])])}),[],!1,null,null,null);t.default=component.exports},315:function(e,t,r){"use strict";r(312)},316:function(e,t,r){var n=r(119)((function(i){return i[1]}));n.push([e.i,".payment_part a{color:#000;font-size:12px;font-weight:400;margin-right:10px;text-transform:capitalize;transition:all .4s ease-in-out}",""]),n.locals={},e.exports=n},343:function(e,t,r){"use strict";e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},348:function(e,t,r){"use strict";var n=r(2),o=r(349).trim;n({target:"String",proto:!0,forced:r(350)("trim")},{trim:function(){return o(this)}})},349:function(e,t,r){"use strict";var n=r(4),o=r(26),c=r(13),l=r(343),d=n("".replace),m=RegExp("^["+l+"]+"),v=RegExp("(^|[^"+l+"])["+l+"]+$"),f=function(e){return function(t){var r=c(o(t));return 1&e&&(r=d(r,m,"")),2&e&&(r=d(r,v,"$1")),r}};e.exports={start:f(1),end:f(2),trim:f(3)}},350:function(e,t,r){"use strict";var n=r(91).PROPER,o=r(3),c=r(343);e.exports=function(e){return o((function(){return!!c[e]()||"​᠎"!=="​᠎"[e]()||n&&c[e].name!==e}))}},381:function(e,t,r){var content=r(449);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(120).default)("7208442a",content,!0,{sourceMap:!1})},448:function(e,t,r){"use strict";r(381)},449:function(e,t,r){var n=r(119)((function(i){return i[1]}));n.push([e.i,".chat-box[data-v-c69aab3a]{border:1px solid #ccc;height:400px}.ok.chat-messages.scrollarea[data-v-c69aab3a]{flex:1;overflow-y:auto}.message-container[data-v-c69aab3a]{margin-bottom:10px}.sent .message[data-v-c69aab3a]{background-color:#e0ffe0}.received .message[data-v-c69aab3a]{background-color:#e0e0ff}.message-time[data-v-c69aab3a]{display:block;font-size:10px}.chat-footer-menu[data-v-c69aab3a]{border-top:1px solid #ccc;padding:10px}.message-input[data-v-c69aab3a]{border:1px solid #ccc}.container[data-v-c69aab3a]{margin:50px auto;max-width:600px;padding:0 20px}.message-input[data-v-c69aab3a]{flex:1}.chat-box[data-v-c69aab3a]{background:#f9f9f9;border-radius:10px;border-radius:0;box-shadow:0 4px 8px rgba(0,0,0,.1);display:flex;flex-direction:column;height:85vh;overflow:hidden}.chat-header[data-v-c69aab3a]{background:linear-gradient(90deg,#122664,rgba(123,97,255,.141));padding:10px 15px}.username-input[data-v-c69aab3a]{border:none;border-radius:5px;color:#333;font-size:16px;outline:none;padding:10px;width:100%}.scrollarea[data-v-c69aab3a]{background:#fff;display:flex;flex-direction:column;flex-grow:1;overflow-y:auto;padding:20px}.message-container[data-v-c69aab3a]{display:flex;margin:5px 0}.message-container.sent[data-v-c69aab3a]{justify-content:flex-end}.message-container.received[data-v-c69aab3a]{justify-content:flex-start}.message[data-v-c69aab3a]{background:#333;border-radius:15px;color:#000;max-width:80%;padding:10px 15px;width:50%}.sent .message[data-v-c69aab3a]{background:#fff;border-bottom-right-radius:0;box-shadow:0 0 10px rgba(0,0,0,.302);padding:3px 15px}.sent .message-text[data-v-c69aab3a]{align-items:end;color:#000;display:flex;flex-direction:column;font-size:12px}.received .message[data-v-c69aab3a]{background:#000;border-bottom-left-radius:0;box-shadow:0 0 10px rgba(0,0,0,.302);padding:5px 15px}.received .message-username[data-v-c69aab3a]{margin-bottom:2px}.message-username[data-v-c69aab3a]{color:green}.message-username[data-v-c69aab3a],.received .message-username[data-v-c69aab3a]{font-size:12px;font-weight:700;margin-bottom:5px}.received .message-username[data-v-c69aab3a]{color:#ffc458}.message-text[data-v-c69aab3a]{color:#474646;display:flex;flex-direction:column}.received .message-text[data-v-c69aab3a]{color:#fff}.message-text small[data-v-c69aab3a]{align-self:flex-end;color:#5c5a5a;font-size:10px}.message-input[data-v-c69aab3a]{border:1px solid #ddd;border-radius:5px;font-size:16px;outline:none;padding:10px;transition:border-color .3s;width:100%}.message-input[data-v-c69aab3a]:focus{border-color:#4a90e2}.chat-messages[data-v-c69aab3a]{flex:1;overflow-y:auto;padding:10px}.message_box main[data-v-c69aab3a]{margin-top:5px}.chat-form[data-v-c69aab3a]{background:#f1f1f1;display:flex;gap:10px;padding:10px;position:fixed;width:100%!important}.message-input button[data-v-c69aab3a]{background-color:#007bff;border:none;color:#fff;cursor:pointer;padding:5px 10px}.selected-item[data-v-c69aab3a]{background-color:#f0f8ff;border-left:5px solid #007bff;font-weight:700}",""]),n.locals={},e.exports=n},595:function(e,t,r){"use strict";r.r(t);r(43);var n=r(7),o=(r(34),r(90),r(348),r(69),{data:function(){return{communitySlug:this.$route.query.slug,username:"jons",name:this.$route.query.name,seller_id:this.$route.query.seller_id,message:"",loading:!1,messages:[],userList:[],currentUser:{username:""},isAtBottom:!0,selectedUser:null,buyerId:null,selectedEmail:null,chatMessagesRef:null,pollingInterval:null,currentUserEmail:null,buyerName:null,buyerEmail:null,buyerInviteCode:null}},head:{title:"ChatBox"},mounted:function(){var e=this;this.getCurrentUser(),this.scrollToBottom(),this.getSellerList(),this.afterSubmitResponse(),this.pollingInterval=setInterval(this.afterSubmitResponse,1e4),this.$nextTick((function(){e.chatMessagesRef=e.$refs.chatMessagesRef}))},updated:function(){this.scrollToBottom()},beforeDestroy:function(){clearInterval(this.pollingInterval)},methods:{selectUser:function(e){this.message="",this.selectedUser=e,this.showBuyerMessages(e)},getCurrentUser:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.post("/auth/me").then((function(t){e.currentUserEmail=t.data.email,e.currentUser.username=t.data.email}));case 2:case"end":return t.stop()}}),t)})))()},scrollToDiv:function(){var e=this.$refs.targetDiv;e&&e.scrollIntoView({behavior:"smooth"})},showBuyerMessages:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.loading=!0,r.prev=1,n=e.user_id,t.selectedEmail=e.username,t.buyerId=e.user_id,t.buyerName=e.name,t.buyerEmail=e.username,t.buyerInviteCode=e.invite_code,r.next=10,t.$axios.get("/getSellerMessages/".concat(n));case 10:o=r.sent,t.messages=o.data,r.next=17;break;case 14:r.prev=14,r.t0=r.catch(1),console.error("Error fetching messages:",r.t0);case 17:return r.prev=17,t.loading=!1,r.finish(17);case 20:case"end":return r.stop()}}),r,null,[[1,14,17,20]])})))()},fetchMessages:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$axios.get("/getSellerMessages/".concat(e.seller_id));case 3:r=t.sent,e.messages=r.data,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error("Error fetching messages:",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},getSellerList:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,e.$axios.get("/getSellerList");case 4:r=t.sent,e.userList=r.data,e.fetchMessages(),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.error("Error fetching messages:",t.t0);case 12:return t.prev=12,e.loading=!1,t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[1,9,12,15]])})))()},submit:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==e.message.trim()){t.next=3;break}return console.log("Message is empty, not sending."),t.abrupt("return");case 3:return t.prev=3,t.next=6,e.$axios.post("/customerSendMessages",{username:e.username,message:e.message,userId:e.buyerId,community_slug:e.name});case 6:r=t.sent,console.log("Message sent:",r.data),e.message="",e.afterSubmitResponse(),e.$nextTick((function(){e.scrollToBottom()})),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(3),console.error("Error sending message:",t.t0);case 16:case"end":return t.stop()}}),t,null,[[3,13]])})))()},afterSubmitResponse:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.buyerId,t.next=3,e.$axios.get("/getSellerMessages/".concat(r));case 3:n=t.sent,e.messages=n.data;case 5:case"end":return t.stop()}}),t)})))()},scrollToBottom:function(){var e=this;this.$nextTick((function(){var t=e.$refs.chatContainer;t&&(t.scrollTop=t.scrollHeight)}))}}}),c=(r(448),r(33)),component=Object(c.a)(o,(function(){var e=this,t=e._self._c;return t("div",[t("title",[e._v("Chat Box")]),e._v(" "),t("LogoAndPayment"),e._v(" "),t("NavbarSecond"),e._v(" "),t("div",{staticClass:"wrapper-inline message_box"},[t("div",{staticClass:"container-fluid"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-2 mt-3"},[t("h3",[e._v("Messages")]),e._v(" "),t("ul",{staticClass:"list-group"},e._l(e.userList,(function(r,n){return t("li",{key:n,staticClass:"list-group-item",class:{"selected-item":e.selectedUser===r}},[t("a",{staticStyle:{color:"black"},attrs:{href:"#"},on:{click:function(t){return e.selectUser(r)}}},[e._v("\n                "+e._s(r.name)+"\n              ")])])})),0)]),e._v(" "),t("div",{staticClass:"col-md-8 mt-3"},[t("div",{staticClass:"conta"},[t("div",{staticClass:"chat-box"},[t("div",{staticClass:"chat-header"},[t("center",[t("u",{staticClass:"text-white"},[e._v("Chatbox")]),e._v(" "),e.selectedEmail?t("span",[e._v(e._s(e.selectedEmail))]):e._e()]),e._v(" "),t("span",{staticClass:"d-none"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"username-input",attrs:{type:"text",placeholder:"Enter your username",readonly:""},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}})])],1),e._v(" "),t("center",[e.loading?t("div",{staticClass:"loading-indicator"},[t("div",{staticClass:"loader-container"},[t("center",{staticClass:"loader-text"},[e._v("Loading...")]),e._v(" "),t("img",{attrs:{src:"/loader/loader.gif",alt:"Loader"}})],1)]):e._e()]),e._v(" "),t("section",{ref:"chatContainer",staticClass:"ok chat-messages scrollarea"},e._l(e.messages,(function(r,n){return t("div",{key:r.id,class:{"message-container":!0,sent:r.username===e.currentUser.username,received:r.username!==e.currentUser.username}},[t("div",{staticClass:"message"},[t("div",{staticClass:"message-username"},[e._v(e._s(r.name))]),e._v(" "),t("div",{staticClass:"message-text"},[e._v("\n                      "+e._s(r.message)+"\n                      "),t("small",{staticClass:"message-time"},[e._v(e._s(r.created_at))])])])])})),0),e._v(" "),t("form",{staticClass:"chat-footer-menu",on:{submit:function(t){return t.preventDefault(),e.submit.apply(null,arguments)}}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.message,expression:"message"}],staticClass:"message-input",attrs:{placeholder:"Write a message"},domProps:{value:e.message},on:{input:function(t){t.target.composing||(e.message=t.target.value)}}})])],1)])]),e._v(" "),t("div",{staticClass:"col-md-2 mt-3"},[t("center",[t("b",[t("u",[e._v("Profile")])]),t("br")]),e._v(" "),e.buyerEmail?t("span",[t("center",[t("img",{staticClass:"img-thumbnail mt-2",staticStyle:{height:"60px",width:"60px"},attrs:{src:"/user-100.png"}})]),e._v("\n            Name : "+e._s(e.buyerName)),t("br"),e._v("\n            Email : "+e._s(e.buyerEmail)),t("br"),e._v("\n            Invite Code : "+e._s(e.buyerInviteCode)),t("br")],1):e._e()],1)])])])],1)}),[],!1,null,"c69aab3a",null);t.default=component.exports;installComponents(component,{LogoAndPayment:r(314).default,NavbarSecond:r(322).default})}}]);