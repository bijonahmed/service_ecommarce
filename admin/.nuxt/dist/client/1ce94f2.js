(window.webpackJsonp=window.webpackJsonp||[]).push([[87],{593:function(t,e,r){"use strict";r.r(e);var c=r(22),d=(r(50),r(38),r(14),r(37),r(71),r(51),r(8)),n=(r(147),r(43),r(39),{data:function(){return{orderstatus:"",orderid:"",customername:"",customeremail:"",insertdata:{orderId:this.$route.query.orderId,orderstatus:""},tracking:{status:"",description:""},orders:[],order_status:[],notifmsg:"",errors:{},orderDate:"",trackStatus:{packed:"",dispatched:"",outForDelivery:"",deliverd:"",canceled:"",returned:""},orderTruckDate:"",ordersData:""}},mounted:function(){var t=this;return Object(d.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.defaultLoading();case 1:case"end":return e.stop()}}),e)})))()},computed:{pageTitle:function(){return this.orderid?"Order Details "+this.orderid:"Order Details"},totalQuantity:function(){return this.orders.reduce((function(t,e){return t+e.quantity}),0)},totalAmount:function(){return this.orders.reduce((function(t,e){return t+e.total}),0)}},head:function(){return{title:this.pageTitle}},methods:{adddTrackingStatus:function(){var t=new FormData;t.append("packed",this.trackStatus.packed),t.append("dispatched",this.trackStatus.dispatched),t.append("outForDelivery",this.trackStatus.outForDelivery),t.append("deliverd",this.trackStatus.deliverd),t.append("canceled",this.trackStatus.canceled),t.append("returned",this.trackStatus.returned),t.append("order_id",this.orderid),this.$axios.post("/order/orderTrack",t).then((function(t){console.log("Success:",t.data),Lobibox.notify("success",{pauseDelayOnHover:!0,continueDelayOnInactiveTab:!1,position:"top right",icon:"bx bx-check-circle",msg:"Order has been successfully updated"})})).catch((function(t){console.error("Error:",t);var e="An error occurred while updating the order. Please try again later.";if(t.response&&422===t.response.status){var r=t.response.data.errors;e=Object.keys(r).map((function(t){return"".concat(t,": ").concat(r[t].join(", "))})).join("\n")}else t.response&&t.response.data&&t.response.data.message&&(e=t.response.data.message);Lobibox.notify("error",{pauseDelayOnHover:!0,continueDelayOnInactiveTab:!1,position:"top right",icon:"bx bx-error-circle",msg:e})}))},saveData:function(){var t=this,e=new FormData;e.append("orderId",this.insertdata.orderId),e.append("orderstatus",this.insertdata.orderstatus);this.$axios.post("/order/update_order_status",e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){$("#formrest")[0].reset(),t.success_noti(),t.$router.push("/orders/order-list")})).catch((function(e){422===e.response.status&&(t.errors=e.response.data.errors)}))},defaultLoading:function(){var t=this;return Object(d.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.$route.query.orderId,t.orderid=r,e.next=4,t.$axios.get("/order/orderDetails/".concat(r)).then((function(e){t.ordersData=e.data,t.orders=e.data.orderdata,t.orderstatus=e.data.orderrow,t.customername=e.data.customername,t.customeremail=e.data.customeremail,t.order_status=e.data.OrderStatus,t.orderDate=e.data.create_at,t.insertdata.orderstatus=e.data.orderstatus_id,t.trackStatus.packed=e.data.packed_status,t.trackStatus.dispatched=e.data.dispatched_status,t.trackStatus.outForDelivery=e.data.outForDelivery_status,t.trackStatus.deliverd=e.data.delivered_status,t.trackStatus.canceled=e.data.cancel_status,t.trackStatus.returned=e.data.return_status})).catch((function(t){})).finally((function(){t.loading=!1}));case 4:case"end":return e.stop()}}),e)})))()},success_noti:function(){Lobibox.notify("success",{pauseDelayOnHover:!0,continueDelayOnInactiveTab:!1,position:"top right",icon:"bx bx-check-circle",msg:"Has been successfully update order"})}}}),o=r(26),component=Object(o.a)(n,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"page-wrapper"},[e("div",{staticClass:"page-content"},[e("div",{staticClass:"page-breadcrumb d-none d-sm-flex align-items-center mb-3"},[e("div",{staticClass:"ps-3"},[e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb mb-0 p-0"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:"/",href:"javascript:;"}},[e("i",{staticClass:"bx bx-home-alt"})])],1),t._v(" "),e("li",{staticClass:"breadcrumb-item",attrs:{"aria-current":"page"}},[e("router-link",{attrs:{to:"/orders/order-list"}},[t._v("Orders")])],1),t._v(" "),e("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("Order details")])])])])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-xl-12 mx-auto"},[e("div",{staticClass:"card border-top border-0 border-4 border-info"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"border p-4 rounded"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("h4",[t._v("Orders Details(Order id: "+t._s(t.orderid)+") ")]),t._v("\n                                        Customer Name: "+t._s(t.customername)+", Customer Email: "+t._s(t.customeremail)+"\n                                    ")]),t._v(" "),e("div",{staticClass:"col"},[e("strong",{staticStyle:{color:"green","text-align":"right"}},[e("h4",[t._v("Order Status: "+t._s(t.orderstatus))])])])]),t._v(" "),e("table",{staticClass:"table table-bordered hover",attrs:{width:"100%",border:"0"}},[t._m(0),t._v(" "),t._l(t.orders,(function(r,c){return e("tr",{key:c},[e("td",[t._v(t._s(c+1))]),t._v(" "),e("td",[e("img",{staticStyle:{height:"50px",width:"50px"},attrs:{src:r.thumbnail_img,alt:"Thumbnail Image"}})]),t._v(" "),e("td",[t._v(t._s(r.product_name))]),t._v(" "),e("td",[e("div",{attrs:{align:"center"}},[t._v(t._s(r.quantity))])]),t._v(" "),e("td",[e("div",{attrs:{align:"center"}},[t._v(t._s(r.price))])]),t._v(" "),e("td",[e("div",{attrs:{align:"center"}},[t._v(t._s(r.total))])])])})),t._v(" "),e("tr",[e("td",[t._v(" ")]),t._v(" "),e("td",[t._v(" ")]),t._v(" "),t._m(1),t._v(" "),e("td",[e("div",{attrs:{align:"center"}},[t._v(t._s(t.totalQuantity))])]),t._v(" "),e("td",[e("div",{attrs:{align:"center"}},[t._v(t._s(t.totalAmount))])]),t._v(" "),e("td",[e("div",{attrs:{align:"center"}},[t._v(t._s(t.totalAmount))])])])],2),t._v(" "),e("hr"),t._v(" "),e("form",{staticClass:"forms-sample",attrs:{id:"formrest",enctype:"multipart/form-data"},on:{submit:function(e){return e.preventDefault(),t.saveData()}}},[e("div",{staticClass:"row mb-3"},[e("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"inputEnterYourName"}},[t._v("Order\n                                            Status")]),t._v(" "),e("div",{staticClass:"col-sm-9"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.insertdata.orderstatus,expression:"insertdata.orderstatus"}],staticClass:"form-select orderstatus",attrs:{name:"status"},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.insertdata,"orderstatus",e.target.multiple?r:r[0])}}},t._l(t.order_status,(function(option,r){return e("option",{key:r,domProps:{value:option.id}},[t._v("\n                                                    "+t._s(option.name)+"\n                                                ")])})),0)])]),t._v(" "),t._m(2)])])])])])]),t._v(" "),e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"container mt-5"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("h5",[t._v("Add Tracking Event")]),t._v(" "),e("form",{attrs:{id:"trackingForm"},on:{submit:function(e){return e.preventDefault(),t.adddTrackingStatus()}}},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"orderId",hidden:""}},[t._v("Order ID")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.orderid,expression:"orderid"}],staticClass:"form-control",attrs:{type:"text",disabled:"",name:"orderId",required:""},domProps:{value:t.orderid},on:{input:function(e){e.target.composing||(t.orderid=e.target.value)}}})]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"eventStatus"}},[t._v("Event Status")]),t._v(" "),e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.trackStatus.packed,expression:"trackStatus.packed"}],attrs:{type:"checkbox",id:"packed"},domProps:Object(c.a)({checked:1==t.trackStatus.packed},"checked",Array.isArray(t.trackStatus.packed)?t._i(t.trackStatus.packed,null)>-1:t.trackStatus.packed),on:{change:function(e){var r=t.trackStatus.packed,c=e.target,d=!!c.checked;if(Array.isArray(r)){var n=t._i(r,null);c.checked?n<0&&t.$set(t.trackStatus,"packed",r.concat([null])):n>-1&&t.$set(t.trackStatus,"packed",r.slice(0,n).concat(r.slice(n+1)))}else t.$set(t.trackStatus,"packed",d)}}}),t._v(" "),e("label",{attrs:{for:"packed"}},[t._v("Packed")])]),t._v(" "),e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.trackStatus.dispatched,expression:"trackStatus.dispatched"}],attrs:{type:"checkbox",id:"Dispatched"},domProps:Object(c.a)({checked:1==t.trackStatus.dispatched},"checked",Array.isArray(t.trackStatus.dispatched)?t._i(t.trackStatus.dispatched,null)>-1:t.trackStatus.dispatched),on:{change:function(e){var r=t.trackStatus.dispatched,c=e.target,d=!!c.checked;if(Array.isArray(r)){var n=t._i(r,null);c.checked?n<0&&t.$set(t.trackStatus,"dispatched",r.concat([null])):n>-1&&t.$set(t.trackStatus,"dispatched",r.slice(0,n).concat(r.slice(n+1)))}else t.$set(t.trackStatus,"dispatched",d)}}}),t._v(" "),e("label",{attrs:{for:"Dispatched"}},[t._v("Dispatched")])]),t._v(" "),e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.trackStatus.outForDelivery,expression:"trackStatus.outForDelivery"}],attrs:{type:"checkbox",id:"Out"},domProps:Object(c.a)({checked:1==t.trackStatus.outForDelivery},"checked",Array.isArray(t.trackStatus.outForDelivery)?t._i(t.trackStatus.outForDelivery,null)>-1:t.trackStatus.outForDelivery),on:{change:function(e){var r=t.trackStatus.outForDelivery,c=e.target,d=!!c.checked;if(Array.isArray(r)){var n=t._i(r,null);c.checked?n<0&&t.$set(t.trackStatus,"outForDelivery",r.concat([null])):n>-1&&t.$set(t.trackStatus,"outForDelivery",r.slice(0,n).concat(r.slice(n+1)))}else t.$set(t.trackStatus,"outForDelivery",d)}}}),t._v(" "),e("label",{attrs:{for:"Out"}},[t._v("Out for delivery")])]),t._v(" "),e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.trackStatus.deliverd,expression:"trackStatus.deliverd"}],attrs:{type:"checkbox",disabled:1==t.trackStatus.returned||1==t.trackStatus.canceled,id:"Delivered"},domProps:Object(c.a)({checked:1==t.trackStatus.deliverd},"checked",Array.isArray(t.trackStatus.deliverd)?t._i(t.trackStatus.deliverd,null)>-1:t.trackStatus.deliverd),on:{change:function(e){var r=t.trackStatus.deliverd,c=e.target,d=!!c.checked;if(Array.isArray(r)){var n=t._i(r,null);c.checked?n<0&&t.$set(t.trackStatus,"deliverd",r.concat([null])):n>-1&&t.$set(t.trackStatus,"deliverd",r.slice(0,n).concat(r.slice(n+1)))}else t.$set(t.trackStatus,"deliverd",d)}}}),t._v(" "),e("label",{attrs:{for:"Delivered"}},[t._v("Delivered")])]),t._v(" "),e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.trackStatus.canceled,expression:"trackStatus.canceled"}],attrs:{type:"checkbox",disabled:1==t.trackStatus.deliverd||1==t.trackStatus.returned,id:"Canceled"},domProps:Object(c.a)({checked:1==t.trackStatus.canceled},"checked",Array.isArray(t.trackStatus.canceled)?t._i(t.trackStatus.canceled,null)>-1:t.trackStatus.canceled),on:{change:function(e){var r=t.trackStatus.canceled,c=e.target,d=!!c.checked;if(Array.isArray(r)){var n=t._i(r,null);c.checked?n<0&&t.$set(t.trackStatus,"canceled",r.concat([null])):n>-1&&t.$set(t.trackStatus,"canceled",r.slice(0,n).concat(r.slice(n+1)))}else t.$set(t.trackStatus,"canceled",d)}}}),t._v(" "),e("label",{attrs:{for:"Canceled"}},[t._v("Canceled")])]),t._v(" "),e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.trackStatus.returned,expression:"trackStatus.returned"}],attrs:{type:"checkbox",disabled:1==t.trackStatus.deliverd||1==t.trackStatus.canceled,id:"Return"},domProps:Object(c.a)({checked:1==t.trackStatus.returned},"checked",Array.isArray(t.trackStatus.returned)?t._i(t.trackStatus.returned,null)>-1:t.trackStatus.returned),on:{change:function(e){var r=t.trackStatus.returned,c=e.target,d=!!c.checked;if(Array.isArray(r)){var n=t._i(r,null);c.checked?n<0&&t.$set(t.trackStatus,"returned",r.concat([null])):n>-1&&t.$set(t.trackStatus,"returned",r.slice(0,n).concat(r.slice(n+1)))}else t.$set(t.trackStatus,"returned",d)}}}),t._v(" "),e("label",{attrs:{for:"Return"}},[t._v("Return")])])]),t._v(" "),e("button",{staticClass:"btn bg-success-light",attrs:{type:"submit"}},[t._v("Submit")])])]),t._v(" "),e("div",{staticClass:"col-md-6"},[e("h5",[t._v("Tracking Events")]),t._v(" "),e("div",{staticClass:"order-track"},[e("div",{staticClass:"order-track-step active"},[t._m(3),t._v(" "),e("div",{staticClass:"order-track-text"},[e("p",{staticClass:"order-track-text-stat"},[t._v("Order Confirmed")]),t._v(" "),e("span",{staticClass:"order-track-text-sub"},[t._v(t._s(t.orderDate))])])]),t._v(" "),e("div",{staticClass:"order-track-step",class:{active:1==t.trackStatus.packed}},[t._m(4),t._v(" "),t._m(5)]),t._v(" "),e("div",{staticClass:"order-track-step",class:{active:1==t.trackStatus.dispatched}},[t._m(6),t._v(" "),t._m(7)]),t._v(" "),e("div",{staticClass:"order-track-step",class:{active:1==t.trackStatus.outForDelivery}},[t._m(8),t._v(" "),t._m(9)]),t._v(" "),0==t.trackStatus.canceled||""==t.trackStatus.canceled?e("div",{staticClass:"order-track-step",class:{active:1==t.trackStatus.deliverd}},[t._m(10),t._v(" "),t._m(11)]):t._e(),t._v(" "),1==t.trackStatus.canceled?e("div",{staticClass:"order-track-step"},[t._m(12),t._v(" "),t._m(13)]):t._e(),t._v(" "),1==t.trackStatus.returned?e("div",{staticClass:"order-track-step"},[t._m(14),t._v(" "),t._m(15)]):t._e()])])])])])])])])])}),[function(){var t=this,e=t._self._c;return e("tr",[e("td",{attrs:{width:"22"}},[t._v("#")]),t._v(" "),e("td",[t._v("Images")]),t._v(" "),e("td",{attrs:{width:"916"}},[t._v("Item Description ")]),t._v(" "),e("td",{attrs:{width:"63"}},[e("div",{attrs:{align:"center"}},[t._v("Qty")])]),t._v(" "),e("td",{attrs:{width:"80"}},[e("div",{attrs:{align:"center"}},[t._v("Price")])]),t._v(" "),e("td",{attrs:{width:"80"}},[e("div",{attrs:{align:"center"}},[t._v("Total")])])])},function(){var t=this._self._c;return t("td",[t("div",{attrs:{align:"right"}},[this._v("Total")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"row"},[e("label",{staticClass:"col-sm-3 col-form-label"}),t._v(" "),e("div",{staticClass:"col-sm-9"},[e("button",{staticClass:"btn btn-success px-5 w-100",attrs:{type:"submit"}},[e("i",{staticClass:"bx bx-check-circle mr-1"}),t._v(" Submit")])])])},function(){var t=this._self._c;return t("div",{staticClass:"order-track-status"},[t("span",{staticClass:"order-track-status-dot"}),this._v(" "),t("span",{staticClass:"order-track-status-line"})])},function(){var t=this._self._c;return t("div",{staticClass:"order-track-status"},[t("span",{staticClass:"order-track-status-dot"}),this._v(" "),t("span",{staticClass:"order-track-status-line"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"order-track-text"},[e("p",{staticClass:"order-track-text-stat"},[t._v("Packed")]),t._v(" "),e("span",{staticClass:"order-track-text-sub"},[t._v("Your order items packed and ready for delivery.")])])},function(){var t=this._self._c;return t("div",{staticClass:"order-track-status"},[t("span",{staticClass:"order-track-status-dot"}),this._v(" "),t("span",{staticClass:"order-track-status-line"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"order-track-text"},[e("p",{staticClass:"order-track-text-stat"},[t._v("Order Dispatched")]),t._v(" "),e("span",{staticClass:"order-track-text-sub"},[t._v("Your shipment has been dispatched to\n                                                the\n                                                final hub.")])])},function(){var t=this._self._c;return t("div",{staticClass:"order-track-status"},[t("span",{staticClass:"order-track-status-dot"}),this._v(" "),t("span",{staticClass:"order-track-status-line"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"order-track-text"},[e("p",{staticClass:"order-track-text-stat"},[t._v("Out for delivery")]),t._v(" "),e("span",{staticClass:"order-track-text-sub"},[t._v("Your order is ready for delivery")])])},function(){var t=this._self._c;return t("div",{staticClass:"order-track-status"},[t("span",{staticClass:"order-track-status-dot"}),this._v(" "),t("span",{staticClass:"order-track-status-line"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"order-track-text"},[e("p",{staticClass:"order-track-text-stat"},[t._v("Order Delivered")]),t._v(" "),e("span",{staticClass:"order-track-text-sub"},[t._v("Your order has been delivered.")])])},function(){var t=this._self._c;return t("div",{staticClass:"order-track-status"},[t("span",{staticClass:"order-track-status-dot bg-danger"}),this._v(" "),t("span",{staticClass:"order-track-status-line"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"order-track-text"},[e("p",{staticClass:"order-track-text-stat text-danger"},[t._v("Order Canceled")]),t._v(" "),e("span",{staticClass:"order-track-text-sub text-danger"},[t._v("Your order has been\n                                                Canceled.")])])},function(){var t=this._self._c;return t("div",{staticClass:"order-track-status"},[t("span",{staticClass:"order-track-status-dot bg-danger"}),this._v(" "),t("span",{staticClass:"order-track-status-line"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"order-track-text"},[e("p",{staticClass:"order-track-text-stat text-danger"},[t._v("Order Returned")]),t._v(" "),e("span",{staticClass:"order-track-text-sub text-danger"},[t._v("Your order has been\n                                                Returned.")])])}],!1,null,null,null);e.default=component.exports}}]);