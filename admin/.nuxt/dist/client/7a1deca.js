(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{640:function(t,e,r){"use strict";r.r(e);r(50),r(38),r(14),r(37);var o={head:{title:"Leave Allocation Edit"},data:function(){return{insertdata:{id:"",leave_type_id:"",frm_date:"",to_date:"",no_of_leave:"",remarks:"",status:0},ltype:[],notifmsg:"",errors:{}}},created:function(){this.getData(),this.leaveType()},methods:{calculateDays:function(){if(this.insertdata.frm_date&&this.insertdata.to_date){var t=new Date(this.insertdata.frm_date),e=new Date(this.insertdata.to_date).getTime()-t.getTime(),r=Math.ceil(e/864e5);this.insertdata.no_of_leave=r}else this.insertdata.no_of_leave=null},leaveType:function(){var t=this;this.$axios.get("/leave/getLeaveTypeList").then((function(e){t.ltype=e.data.data}))},saveData:function(){var t=this,e=new FormData;e.append("id",this.insertdata.id),e.append("leave_type_id",this.insertdata.leave_type_id),e.append("frm_date",this.insertdata.frm_date),e.append("to_date",this.insertdata.to_date),e.append("no_of_leave",this.insertdata.no_of_leave),e.append("remarks",this.insertdata.remarks),e.append("status",this.insertdata.status);this.$axios.post("/leave/createEditLeaveRequest",e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){$("#formrest")[0].reset(),t.success_noti(),t.$router.push("/employee/leave-approval-list")})).catch((function(e){422===e.response.status&&(t.errors=e.response.data.errors)}))},getData:function(){var t=this;console.log(this.$route.params.id);var e=this.$route.params.id;this.$axios.get("/leave/leaveApprovalRequestRow/".concat(e)).then((function(e){t.insertdata.id=e.data.data.id,t.insertdata.leave_type_id=e.data.data.leave_type_id,t.insertdata.frm_date=e.data.data.frm_date,t.insertdata.to_date=e.data.data.to_date,t.insertdata.no_of_leave=e.data.data.no_of_leave,t.insertdata.remarks=e.data.data.remarks,t.insertdata.status=e.data.data.status}))},success_noti:function(){Lobibox.notify("success",{pauseDelayOnHover:!0,continueDelayOnInactiveTab:!1,position:"top right",icon:"bx bx-check-circle",msg:"Your data has been successfully inserted."})}}},n=r(26),component=Object(n.a)(o,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"page-wrapper"},[e("div",{staticClass:"page-content"},[e("div",{staticClass:"page-breadcrumb d-none d-sm-flex align-items-center mb-3"},[e("div",{staticClass:"ps-3"},[e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb mb-0 p-0"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:"/hrm/dashboard",href:"javascript:;"}},[e("i",{staticClass:"bx bx-home-alt"})])],1),t._v(" "),e("li",{staticClass:"breadcrumb-item",attrs:{"aria-current":"page"}},[e("router-link",{attrs:{to:"/employee/leave-approval-list"}},[t._v("Leave Request List ")])],1),t._v(" "),e("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("Leave Request")])])])])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-xl-12 mx-auto"},[e("div",{staticClass:"card border-top border-0 border-4 border-info"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"border p-4 rounded"},[e("form",{staticClass:"forms-sample",attrs:{id:"formrest",enctype:"multipart/form-data"},on:{submit:function(e){return e.preventDefault(),t.saveData()}}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.insertdata.id,expression:"insertdata.id"}],staticClass:"form-control id",attrs:{type:"hidden",id:"id"},domProps:{value:t.insertdata.id},on:{input:function(e){e.target.composing||t.$set(t.insertdata,"id",e.target.value)}}}),t._v(" "),e("div",{staticClass:"row mb-3"},[e("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"inputpassword_confirmation2"}},[t._v("Leave Type")]),t._v(" "),e("div",{staticClass:"col-sm-9"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.insertdata.leave_type_id,expression:"insertdata.leave_type_id"}],staticClass:"form-select leave_type_id",attrs:{name:"leave_type_id"},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.insertdata,"leave_type_id",e.target.multiple?r:r[0])}}},[e("option",{attrs:{value:"",selected:""}},[t._v("Select")]),t._v(" "),t._l(t.ltype,(function(data){return e("option",{domProps:{value:data.id}},[t._v(t._s(data.name))])}))],2),t._v(" "),t.errors.leave_type_id?e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.leave_type_id[0]))]):t._e()])]),t._v(" "),e("div",{staticClass:"row mb-3"},[e("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"inputEnterYourName"}},[t._v("From Date")]),t._v(" "),e("div",{staticClass:"col-sm-9"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.insertdata.frm_date,expression:"insertdata.frm_date"}],staticClass:"form-control frm_date",attrs:{type:"date",id:"frm_date"},domProps:{value:t.insertdata.frm_date},on:{change:t.calculateDays,input:function(e){e.target.composing||t.$set(t.insertdata,"frm_date",e.target.value)}}}),t._v(" "),t.errors.frm_date?e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.frm_date[0]))]):t._e()])]),t._v(" "),e("div",{staticClass:"row mb-3"},[e("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"inputEnterYourName"}},[t._v("To Date")]),t._v(" "),e("div",{staticClass:"col-sm-9"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.insertdata.to_date,expression:"insertdata.to_date"}],staticClass:"form-control to_date",attrs:{type:"date",id:"frm_date"},domProps:{value:t.insertdata.to_date},on:{change:t.calculateDays,input:function(e){e.target.composing||t.$set(t.insertdata,"to_date",e.target.value)}}}),t._v(" "),t.errors.to_date?e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.to_date[0]))]):t._e()])]),t._v(" "),e("div",{staticClass:"row mb-3"},[e("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"inputEnterYourName"}},[t._v("No. of Leave")]),t._v(" "),e("div",{staticClass:"col-sm-9"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.insertdata.no_of_leave,expression:"insertdata.no_of_leave"}],staticClass:"form-control no_of_leave",attrs:{type:"number",id:"no_days_allow"},domProps:{value:t.insertdata.no_of_leave},on:{input:function(e){e.target.composing||t.$set(t.insertdata,"no_of_leave",e.target.value)}}}),t._v(" "),t.errors.no_of_leave?e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.no_of_leave[0]))]):t._e()])]),t._v(" "),e("div",{staticClass:"row mb-3"},[e("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"inputEnterYourName"}},[t._v("Remarks")]),t._v(" "),e("div",{staticClass:"col-sm-9"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.insertdata.remarks,expression:"insertdata.remarks"}],staticClass:"form-control remarks",attrs:{id:"remarks"},domProps:{value:t.insertdata.remarks},on:{input:function(e){e.target.composing||t.$set(t.insertdata,"remarks",e.target.value)}}})])]),t._v(" "),t._m(0)])])])])])])])])])}),[function(){var t=this,e=t._self._c;return e("div",{staticClass:"row"},[e("label",{staticClass:"col-sm-3 col-form-label"}),t._v(" "),e("div",{staticClass:"col-sm-9"},[e("button",{staticClass:"btn btn-success px-5 w-100",attrs:{type:"submit"}},[e("i",{staticClass:"bx bx-check-circle mr-1"}),t._v(" Submit")])])])}],!1,null,null,null);e.default=component.exports}}]);