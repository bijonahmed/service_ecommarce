(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{313:function(t,e,o){"use strict";var r=o(2),n=o(221).values;r({target:"Object",stat:!0},{values:function(t){return n(t)}})},320:function(t,e,o){var content=o(392);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(119).default)("765c8e3d",content,!0,{sourceMap:!1})},391:function(t,e,o){"use strict";o(320)},392:function(t,e,o){var r=o(118)((function(i){return i[1]}));r.push([t.i,".thumbnail[data-v-705f8096]{height:80px;-o-object-fit:cover;object-fit:cover;width:80px}",""]),r.locals={},t.exports=r},534:function(t,e,o){"use strict";o.r(e);o(50),o(38),o(14),o(37);var r=o(8),n=(o(39),o(40),o(41),o(27),o(70),o(30),o(313),o(311),{data:function(){return{editorConfig:{removePlugins:["Title"],simpleUpload:{uploadUrl:"path_to_image_controller",headers:{Authorization:"optional_token"}}},blog:{title:"",category:"",desc:""},thumbnail:"/images/gallery/01.png",categories:""}},components:{"ckeditor-nuxt":function(){return o.e(1).then(o.t.bind(null,522,7))}},computed:{loggedIn:function(){return this.$store.state.auth.loggedIn},user:function(){return this.$store.state.auth.user}},head:{title:"Blog Add"},mounted:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.loadCKEditor();case 2:CKEDITOR.replace("editor"),t.catList();case 4:case"end":return e.stop()}}),e)})))()},methods:{catList:function(){var t=this;this.$axios.get("/blog/blogcatlist").then((function(e){t.categories=e.data.data}))},addblog:function(){var t=new FormData;t.append("title",this.blog.title),t.append("category",this.blog.category),t.append("content",this.blog.desc),t.append("image",this.$refs.image.files[0]);this.$axios.post("/blog/add-newblog",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){Lobibox.notify("success",{pauseDelayOnHover:!0,continueDelayOnInactiveTab:!1,position:"top right",icon:"bx bx-check-circle",msg:"Successfully blog created"})})).catch((function(t){if(t.response&&422===t.response.status){var e=t.response.data.errors;console.log("Validation errors:",e),Object.values(e).forEach((function(t){t.forEach((function(t){Lobibox.notify("error",{pauseDelayOnHover:!0,continueDelayOnInactiveTab:!1,position:"top right",icon:"bx bx-check-circle",msg:t})}))}))}else console.error("Error adding blog:",t.message)}))},onFileChange:function(t){var e=this,o=t.target.files[0];if(o){var r=new FileReader;r.onload=function(t){e.thumbnail=t.target.result},r.readAsDataURL(o)}},loadCKEditor:function(){return new Promise((function(t){if("undefined"==typeof CKEDITOR){var script=document.createElement("script");script.async=!0,script.onload=t,document.head.appendChild(script)}else t()}))}}}),l=(o(391),o(26)),component=Object(l.a)(n,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"page-wrapper"},[e("div",{staticClass:"page-content"},[e("div",{staticClass:"page-breadcrumb d-none d-sm-flex align-items-center mb-3"},[e("div",{staticClass:"ps-3"},[e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb mb-0 p-0"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:"/"}},[e("a",{attrs:{href:"javascript:;"}},[e("i",{staticClass:"bx bx-home-alt"})])])],1),t._v(" "),e("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("Attributes")])])])])]),t._v(" "),e("div",{staticClass:"container mt-5 bg-white"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6 m-auto"},[e("h1",[t._v("Add Blog Category")]),t._v(" "),e("form",{attrs:{id:"addCat",method:"post",enctype:"multipart/form-data"},on:{submit:function(e){return e.preventDefault(),t.addblog()}}},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"categoryName"}},[t._v("Title")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.blog.title,expression:"blog.title"}],staticClass:"form-control",attrs:{type:"text",id:"categoryName",placeholder:"Enter category name",required:""},domProps:{value:t.blog.title},on:{input:function(e){e.target.composing||t.$set(t.blog,"title",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"categoryName"}},[t._v("Status")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.blog.category,expression:"blog.category"}],staticClass:"form-control",attrs:{name:"",id:""},on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.blog,"category",e.target.multiple?o:o[0])}}},[e("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("Select category")]),t._v(" "),t._l(t.categories,(function(o){return e("option",{key:o.id,domProps:{value:o.id}},[t._v(t._s(o.name))])}))],2)]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"categoryDescription"}},[t._v("Category Description")]),t._v(" "),e("client-only",{attrs:{placeholder:"loading..."}},[e("ckeditor-nuxt",{staticClass:"form-control",attrs:{config:t.editorConfig},model:{value:t.blog.desc,callback:function(e){t.$set(t.blog,"desc",e)},expression:"blog.desc"}})],1)],1),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{attrs:{for:"imageInput"}},[t._v("Thumbnail")]),t._v(" "),e("input",{ref:"image",staticClass:"form-control mb-2",attrs:{type:"file"},on:{change:t.onFileChange}}),t._v(" "),e("img",{staticClass:"img-fluid thumbnail",attrs:{src:t.thumbnail,alt:""}})]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Update")])])])])])])])])}),[],!1,null,"705f8096",null);e.default=component.exports}}]);