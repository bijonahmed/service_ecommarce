(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{313:function(t,e,r){"use strict";var n=r(2),o=r(221).values;n({target:"Object",stat:!0},{values:function(t){return o(t)}})},338:function(t,e,r){var content=r(435);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(119).default)("139fb594",content,!0,{sourceMap:!1})},339:function(t,e,r){var content=r(437);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(119).default)("5b8bb3c0",content,!0,{sourceMap:!1})},430:function(t,e,r){"use strict";var n=r(2),o=r(431),c=r(28),l=r(42),d=r(53),v=r(120);n({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,e=c(this),r=l(e),n=v(e,0);return n.length=o(n,e,e,r,0,void 0===t?1:d(t)),n}})},431:function(t,e,r){"use strict";var n=r(72),o=r(42),c=r(153),l=r(54),d=function(t,e,source,r,v,h,f,m){for(var element,_,y=v,x=0,w=!!f&&l(f,m);x<r;)x in source&&(element=w?w(source[x],x,e):source[x],h>0&&n(element)?(_=o(element),y=d(t,e,element,_,y,h-1)-1):(c(y+1),t[y]=element),y++),x++;return y};t.exports=d},432:function(t,e,r){"use strict";r(150)("flat")},433:function(t,e,r){"use strict";var n=r(2),o=r(91).find,c=r(150),l="find",d=!0;l in[]&&Array(1)[l]((function(){d=!1})),n({target:"Array",proto:!0,forced:d},{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),c(l)},434:function(t,e,r){"use strict";r(338)},435:function(t,e,r){var n=r(118)((function(i){return i[1]}));n.push([t.i,".bg-dark{background-color:#0d4b88!important}",""]),n.locals={},t.exports=n},436:function(t,e,r){"use strict";r(339)},437:function(t,e,r){var n=r(118)((function(i){return i[1]}));n.push([t.i,".attribute-container[data-v-7c126c61]{display:flex;flex-wrap:wrap;gap:20px}.attribute-item[data-v-7c126c61]{background-color:#f5f5f5;border-radius:5px;box-shadow:0 0 5px rgba(0,0,0,.1);flex:1 1 200px;padding:10px}.attribute-list[data-v-7c126c61]{list-style-type:none;padding:0}.attribute-list li[data-v-7c126c61]{margin-bottom:5px}",""]),n.locals={},t.exports=n},553:function(t,e,r){"use strict";r.r(e);r(50),r(38),r(14),r(37),r(71),r(51);var n,o=r(22),c=r(8),l=(r(147),r(30),r(43),r(430),r(432),r(313),r(148),r(27),r(70),r(433),r(220),r(39),{head:{title:"Attribue Varient"},data:function(){return{getWarrantyData:"",warrantydata:[{warranty:"",days:"",price:""}],formData:[],combinationData:[],varientData:[],attributeData:{},insertdata:{attr_id:"",attr_value:[]},data:{sku:"",qty:1,price:120},historVarient:[{varient_id:"",sku:"",qty:1,price:"",file:null}],arr_val:[],attributeslist:[],attrValList:[],notifmsg:"",errors:{},selectedAttributeName:"",selectedAttributeValues:""}},mounted:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.retrieveAttributeData(),e.next=3,t.fetchAttributeList();case 3:return e.next=5,t.fetchVarientDataList();case 5:t.getWarranty();case 6:case"end":return e.stop()}}),e)})))()},watch:{"insertdata.attr_value":function(t){this.selectedAttributeValues=Array.isArray(t)?t.join(", "):t}},methods:(n={removeW:function(t){var e=this;console.log(t),this.$axios.get("/product/deletewarranty/".concat(t)).then((function(t){Lobibox.notify("success",{pauseDelayOnHover:!0,continueDelayOnInactiveTab:!1,position:"top right",icon:"bx bx-check-circle",msg:"Your data has been successfully deleted."}),e.getWarranty()})).catch((function(t){Lobibox.notify("error",{pauseDelayOnHover:!0,continueDelayOnInactiveTab:!1,position:"top right",icon:"bx bx-check-circle",msg:t})}))},addWarranty:function(){var t=this,e=new FormData,r=this.$route.query.parameter;e.append("product_id",r),this.warrantydata.forEach((function(t,r){e.append("warranty[".concat(r,"][warranty]"),t.warranty),e.append("warranty[".concat(r,"][days]"),t.days),e.append("warranty[".concat(r,"][price]"),t.price)})),console.log("FormData:",e),this.$axios.post("/product/addWarranty",e).then((function(e){Lobibox.notify("success",{pauseDelayOnHover:!0,continueDelayOnInactiveTab:!1,position:"top right",icon:"bx bx-check-circle",msg:"Your data has been successfully inserted."}),t.getWarranty()})).catch((function(t){Lobibox.notify("error",{pauseDelayOnHover:!0,continueDelayOnInactiveTab:!1,position:"top right",icon:"bx bx-check-circle",msg:t})}))},getWarranty:function(){var t=this,e=this.$route.query.parameter;this.$axios.get("/product/addWarranty/".concat(e)).then((function(e){console.log(e.data),t.getWarrantyData=e.data})).catch((function(t){console.log(t)}))},addField:function(t){var e=JSON.parse(JSON.stringify(this.warrantydata[t]));this.warrantydata.push(e)},updateSKU:function(t,e){this.varientData[t].sku=e},updateQty:function(t,e){this.varientData[t].qty=e},updatePrice:function(t,e){this.varientData[t].price=e},insertVarientHistory:function(){var t=this,e=new FormData;this.varientData.forEach((function(t){e.append("id[]",t.id),e.append("color[]",t.color),e.append("size[]",t.size),e.append("sku[]",t.sku),e.append("qty[]",t.qty),e.append("price[]",t.price),t.image&&(console.log("combination iamges: "),e.append("images[]",t.image))})),localStorage.removeItem("selectedAttribute_1"),localStorage.removeItem("selectedAttribute_2"),this.$axios.post("/product/insertVarient",e).then((function(e){var r=t.$route.query.parameter;t.$router.push({path:"/ecommarce/product-preview",query:{parameter:r}})})).catch((function(e){if(422===e.response.status){t.errors=e.response.data.errors;var r=Object.values(t.errors).flat().join("<br>");Swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(t){t.onmouseenter=Swal.stopTimer,t.onmouseleave=Swal.resumeTimer}}).fire({icon:"error",title:r})}}))},deleteVariantRow:function(t){var e=this;return Object(c.a)(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=e.$route.query.parameter,r.prev=1,!confirm("Are you sure you want to delete this variant?")){r.next=11;break}return r.next=6,e.$axios.post("/product/deleteVarient",{id:t,product_id:n});case 6:o=r.sent,e.pos4_error_noti(),e.varientData=o.data.varient,r.next=12;break;case 11:console.log("Deletion cancelled by user.");case 12:r.next=17;break;case 14:r.prev=14,r.t0=r.catch(1),console.error("Error:",r.t0);case 17:case"end":return r.stop()}}),r,null,[[1,14]])})))()},handleCheckboxClick:function(t,e){console.log("==event="+t),console.log("=val=="+e),this.logValues(t,e),this.retrieveAttributeData()},deleteAttributeValue:function(t){try{localStorage.removeItem("selectedAttribute_"+t),this.retrieveAttributeData()}catch(t){console.error("Error deleting attribute:",t)}},retrieveAttributeData:function(){var t=this;try{this.attributeData={};var e="selectedAttribute_";Object.keys(localStorage).forEach((function(r){if(r.startsWith(e)){var n=r.replace(e,""),o=localStorage.getItem(r);if(null!==o){var c=JSON.parse(o);t.$set(t.attributeData,n,c)}else console.warn("No data found in localStorage for key:",r)}})),console.log("Attribute data retrieved successfully:",this.attributeData)}catch(t){console.error("Error retrieving attribute data:",t)}},generateCombinations:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function e(){var r,n,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.$route.query.parameter,n=JSON.parse(localStorage.getItem("selectedAttribute_1"))||[],console.log("Size:",JSON.stringify(n)),o=JSON.parse(localStorage.getItem("selectedAttribute_2"))||[],console.log("Color:",JSON.stringify(o)),e.prev=5,e.next=8,t.$axios.post("/product/generate-combinations",{colors:o,sizes:n,product_id:r});case 8:c=e.sent,t.varientData=c.data.varient,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),console.error("Error:",e.t0);case 15:case"end":return e.stop()}}),e,null,[[5,12]])})))()},showAttrVal:function(t){var e=this,r=this.attributeslist.find((function(t){return t.id===e.insertdata.attr_id}));this.selectedAttributeName=r?r.name:"",this.selectedAttributeValues=""},logValues:function(t,e){var r=this;if(t.target.checked)this.insertdata.attr_value.push(e);else{var n=this.insertdata.attr_value.indexOf(e);-1!==n&&this.insertdata.attr_value.splice(n,1)}if(this.previousAttributeId||(this.previousAttributeId=null),t.target.checked)this.insertdata.attr_value.push(e);else{var o=this.insertdata.attr_value.indexOf(e);-1!==o&&this.insertdata.attr_value.splice(o,1)}if(this.selectedAttributes||(this.selectedAttributes={}),this.previousAttributeId!==this.insertdata.attr_id&&(this.previousAttributeId&&this.selectedAttributes[this.previousAttributeId]&&localStorage.setItem("selectedAttribute_".concat(this.previousAttributeId),JSON.stringify(this.selectedAttributes[this.previousAttributeId])),this.previousAttributeId&&delete this.selectedAttributes[this.previousAttributeId],this.selectedAttributes[this.insertdata.attr_id]||(this.selectedAttributes[this.insertdata.attr_id]=[]),this.previousAttributeId=this.insertdata.attr_id),t.target.checked)this.selectedAttributes[this.insertdata.attr_id].push(e);else{var c=this.selectedAttributes[this.insertdata.attr_id].indexOf(e);-1!==c&&this.selectedAttributes[this.insertdata.attr_id].splice(c,1)}localStorage.setItem("selectedAttribute_".concat(this.insertdata.attr_id),JSON.stringify(this.selectedAttributes[this.insertdata.attr_id]));var l=this.attributeslist.find((function(t){return t.id===r.insertdata.attr_id})),d=l?l.name:"",v=this.selectedAttributes[this.insertdata.attr_id].join(", ");console.log("Selected checkbox values:",v),console.log("Selected attribute name:",d)},initializeHistorVarient:function(){this.historVarient=this.varientData.map((function(){return{}}))},onFileChange:function(t,e){for(var r=e.target.files,i=0;i<r.length;i++){var n=r[i];this.$set(this.varientData[t],"image",n)}}},Object(o.a)(n,"showAttrVal",(function(t){var e=this;this.$axios.get("/category/attributeValRows/".concat(t)).then((function(t){e.attrValList=t.data}))})),Object(o.a)(n,"fetchAttributeList",(function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.get("/category/attributes-list");case 3:r=e.sent,t.attributeslist=r.data,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()})),Object(o.a)(n,"fetchVarientDataList",(function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t.$route.query.parameter,e.next=4,t.$axios.get("/product/varient-list/".concat(r));case 4:n=e.sent,t.varientData=n.data.varient,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("===============");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()})),Object(o.a)(n,"pos4_error_noti",(function(){Lobibox.notify("error",{pauseDelayOnHover:!0,icon:"bx bx-x-circle",size:"mini",continueDelayOnInactiveTab:!1,position:"bottom left",msg:"Successfully Remove Varient."})})),n)}),d=(r(434),r(436),r(26)),component=Object(d.a)(l,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"page-wrapper"},[e("div",{staticClass:"page-content"},[e("div",{staticClass:"page-breadcrumb d-none d-sm-flex align-items-center mb-3"},[e("div",{staticClass:"ps-3"},[e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb mb-0 p-0"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:"/",href:"javascript:;"}},[e("i",{staticClass:"bx bx-home-alt"})])],1),t._v(" "),e("li",{staticClass:"breadcrumb-item",attrs:{"aria-current":"page"}},[e("router-link",{attrs:{to:"/ecommarce/product-list"}},[t._v("Product List")])],1),t._v(" "),e("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("Add Attribue Varient")])])])])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6 mx-auto"},[e("div",{staticClass:"card border-top border-0 border-4 border-info"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"border p-4 rounded"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.insertdata.attr_id,expression:"insertdata.attr_id"}],staticClass:"form-control w-100",on:{change:[function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.insertdata,"attr_id",e.target.multiple?r:r[0])},function(e){return t.showAttrVal(t.insertdata.attr_id)}]}},[e("option",{attrs:{disabled:"",value:"",selected:""}},[t._v("Select")]),t._v(" "),t._l(t.attributeslist,(function(r,n){return e("option",{key:n,domProps:{value:r.id,selected:r.selected}},[t._v("\n                                                    "+t._s(r.name)+"\n                                                ")])}))],2)]),t._v(" "),e("div",{staticClass:"col-8"},[e("br"),t._v(" "),t._l(t.attrValList,(function(data,r){return e("span",{key:data.id},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.insertdata.attr_value,expression:"insertdata.attr_value"}],attrs:{type:"checkbox"},domProps:{value:data.name,checked:Array.isArray(t.insertdata.attr_value)?t._i(t.insertdata.attr_value,data.name)>-1:t.insertdata.attr_value},on:{click:function(e){return t.handleCheckboxClick(e,data.name)},change:function(e){var r=t.insertdata.attr_value,n=e.target,o=!!n.checked;if(Array.isArray(r)){var c=data.name,l=t._i(r,c);n.checked?l<0&&t.$set(t.insertdata,"attr_value",r.concat([c])):l>-1&&t.$set(t.insertdata,"attr_value",r.slice(0,l).concat(r.slice(l+1)))}else t.$set(t.insertdata,"attr_value",o)}}}),t._v("\n                                                "+t._s(data.name)+" "),e("br")])}))],2)]),t._v(" "),e("div"),t._v(" "),e("hr"),t._v(" "),e("div",{staticClass:"attribute-container"},[e("table",{staticClass:"attribute-table table table-hover"},[t._m(0),t._v(" "),e("tbody",t._l(t.attributeData,(function(data,r){return e("tr",{key:r},[e("td",[e("span","1"==r?[t._v("Size")]:"2"==r?[t._v("Color")]:[t._v("''")])]),t._v(" "),e("td",[e("ul",t._l(data,(function(r,n){return e("li",{key:n},[e("span",[t._v(t._s(r))])])})),0)]),t._v(" "),e("td",[e("button",{on:{click:function(e){return t.deleteAttributeValue(r)}}},[t._v("Delete")])])])})),0)])]),t._v(" "),e("button",{staticClass:"btn btn-success",on:{click:t.generateCombinations}},[t._v("Generate")]),t._v(" "),e("hr"),t._v(" "),e("form",{attrs:{id:"formrest",enctype:"multipart/form-data"},on:{submit:function(e){return e.preventDefault(),t.insertVarientHistory()}}},[e("table",{staticClass:"table table",attrs:{border:"1"}},[t._m(1),t._v(" "),e("tbody",t._l(t.varientData,(function(r,n){return e("tr",{key:n},[e("td",[t._v(t._s(r.color))]),t._v(" "),e("td",[t._v(t._s(r.size))]),t._v(" "),e("td",[e("input",{directives:[{name:"model",rawName:"v-model",value:r.id,expression:"combination.id"}],attrs:{type:"hidden"},domProps:{value:r.id},on:{input:function(e){e.target.composing||t.$set(r,"id",e.target.value)}}}),t._v(" "),e("input",{staticStyle:{width:"80px"},attrs:{type:"text",placeholder:"SKU"},domProps:{value:r.sku},on:{input:function(e){return t.updateSKU(n,e.target.value)}}})]),t._v(" "),e("td",[e("input",{staticStyle:{width:"50px"},attrs:{type:"text",placeholder:"Qty"},domProps:{value:r.qty},on:{input:function(e){return t.updateQty(n,e.target.value)}}})]),t._v(" "),e("td",[e("input",{staticStyle:{width:"50px"},attrs:{type:"text",placeholder:"0.00"},domProps:{value:r.price?r.price:"0.00"},on:{input:function(e){return t.updatePrice(n,e.target.value)}}})]),t._v(" "),e("td",{attrs:{"max-width":"100px"}},[e("input",{staticClass:"form-control",attrs:{value:"",type:"file",accept:"image/*"},on:{change:function(e){return t.onFileChange(n,e)}}})]),t._v(" "),e("td",[e("button",{staticClass:"btn btn-outline-danger",attrs:{type:"button"},on:{click:function(e){return t.deleteVariantRow(r.id)}}},[t._v("DEL")])])])})),0)]),t._v(" "),e("button",{staticClass:"btn btn-success btn-sm w-100 btnsize",attrs:{type:"submit"}},[t._v("Submit")])])])])])]),t._v(" "),e("div",{staticClass:"col-md-6"},[e("form",{attrs:{enctype:"multipart/form-data"},on:{submit:function(e){return e.preventDefault(),t.addWarranty()}}},[e("div",{staticClass:"card border-top border-0 border-4 border-info"},[t._m(2),t._v(" "),e("div",{staticClass:"card-body"},[t.getWarrantyData.length>=0?e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("table",{staticClass:"table"},[e("tbody",t._l(t.getWarrantyData,(function(r,n){return e("tr",{key:n,staticClass:"d-flex align-items-center"},[e("th",[t._v("#"+t._s(n+1))]),t._v(" "),e("td",[e("p",{staticClass:"m-0"},[t._v(t._s(r.warranty_name))])]),t._v(" "),e("td",[e("span",[t._v("Price: $"+t._s(r.price)+" ")])]),t._v(" "),e("td",[e("a",{staticClass:"text-danger",attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.removeW(r.id)}}},[e("i",{staticClass:"fadeIn animated bx bx-minus-circle"})])])])})),0)])])]):t._e(),t._v(" "),e("div",{staticClass:"form-group",attrs:{id:"warranty_product"}},[t._l(t.warrantydata,(function(r,n){return e("div",{key:n,staticClass:"card mb-1"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-3"},[e("label",{attrs:{for:"Warranty_name_"+n}},[t._v("Warranty")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:r.warranty,expression:"row.warranty"}],staticClass:"form-control",attrs:{id:"Warranty_name_"+n,type:"text",placeholder:"6 month, 1 years, 2 years",name:"warranty"},domProps:{value:r.warranty},on:{input:function(e){e.target.composing||t.$set(r,"warranty",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-md-3"},[e("label",{attrs:{for:"Warranty_days_"+n}},[t._v("In Days")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:r.days,expression:"row.days"}],staticClass:"form-control",attrs:{id:"Warranty_days_"+n,type:"text",placeholder:"90,180,365",name:"days"},domProps:{value:r.days},on:{input:function(e){e.target.composing||t.$set(r,"days",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-md-3"},[e("label",{attrs:{for:"Warranty_price_"+n}},[t._v("Price")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:r.price,expression:"row.price"}],staticClass:"form-control",attrs:{id:"Warranty_price_"+n,type:"text",placeholder:"00.00",name:"price"},domProps:{value:r.price},on:{input:function(e){e.target.composing||t.$set(r,"price",e.target.value)}}})]),t._v(" "),0===n||n===t.warrantydata.length-1?e("div",{staticClass:"col-md-3"},[e("label",{staticStyle:{opacity:"0"}},[t._v("add")]),t._v(" "),n===t.warrantydata.length-1?e("a",{staticClass:"btn bg-success-light w-100",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.addField(n)}}},[t._v("Add\n                                                            more")]):t._e()]):t._e()])])])})),t._v(" "),t._m(3)],2)])])])])])])])])])}),[function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",[t._v("Attribute")]),t._v(" "),e("th",[t._v("Values")]),t._v(" "),e("th",[t._v("Action")])])])},function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",[t._v("Color")]),t._v(" "),e("th",[t._v("Size")]),t._v(" "),e("th",[t._v("SKU")]),t._v(" "),e("th",[t._v("Qty")]),t._v(" "),e("th",[t._v("Price")]),t._v(" "),e("th",[t._v("Image Upload")]),t._v(" "),e("th",[t._v("Action")])])])},function(){var t=this._self._c;return t("div",{staticClass:"card-header"},[t("h6",[this._v("Product Warranty")])])},function(){var t=this._self._c;return t("div",{staticClass:"card mb-0"},[t("div",{staticClass:"card-body"},[t("button",{staticClass:"btn bg-success-light w-100"},[this._v("Submit")])])])}],!1,null,"7c126c61",null);e.default=component.exports}}]);